Enter password: *******
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 15
Server version: 8.0.22 MySQL Community Server - GPL

Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> use test;
Database changed
mysql> delimiter $$
mysql> create procedure insdept(in did int,in dnm varchar(20),in dloc varchar(20)
    -> begin
    ->    insert into dept values(did,dnm,dloc);
    -> end$$
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'begin
   insert into dept values(did,dnm,dloc);
end' at line 2
mysql> create procedure insdept(in did int,in dnm varchar(20),in dloc varchar(20))
    -> begin
    ->    insert into dept values(did,dnm,dloc);
    -> end$$
Query OK, 0 rows affected (0.08 sec)

mysql> call insdept(102,'Loan','Pune')$$
Query OK, 1 row affected (0.02 sec)

mysql> select * from dept;
    -> $$
+--------+------------+----------+
| DEPTNO | DNAME      | LOC      |
+--------+------------+----------+
|     10 | ACCOUNTING | NEW YORK |
|     20 | RESEARCH   | DALLAS   |
|     30 | SALES      | CHICAGO  |
|     40 | OPERATIONS | BOSTON   |
|    102 | Loan       | Pune     |
+--------+------------+----------+
5 rows in set (0.00 sec)

mysql> create procedure caldept(out pcnt int)
    -> begin
    ->  select count(*) into pcnt
    -> from dept;
    -> end$$
Query OK, 0 rows affected (0.02 sec)

mysql> call caldept(@c);
    -> $$
Query OK, 1 row affected (0.02 sec)

mysql> select @c;
    -> $$
+------+
| @c   |
+------+
|    5 |
+------+
1 row in set (0.01 sec)

mysql> Delimiter $$
mysql> Create procedure findcntdept(in pdid int,out pcnt int, out pmax decimal(9,2))
    -> Begin
    ->         Select count(*), max(sal) into pcnt,pmax
    ->         From emp
    ->        Where deptno=pdid;
    -> End$$
Query OK, 0 rows affected (0.01 sec)

mysql> Delimiter ;
mysql> call findcntdept(20,@c,@m)
    -> ;
Query OK, 1 row affected (0.00 sec)

mysql> select @c,@m
    -> ;
+------+---------+
| @c   | @m      |
+------+---------+
|    7 | 3745.00 |
+------+---------+
1 row in set (0.00 sec)

mysql> select count(*),max(sal)
    -> from emp
    -> where deptno=20;
+----------+----------+
| count(*) | max(sal) |
+----------+----------+
|        7 |  3745.00 |
+----------+----------+
1 row in set (0.00 sec)

mysql> select @c count,@m max;
+-------+---------+
| count | max     |
+-------+---------+
|     7 | 3745.00 |
+-------+---------+
1 row in set (0.00 sec)

mysql> Delimiter $$
mysql> Create procedure changesal(in peno int,inout psal decimal(9,2))
    -> Declare vsal int
    -> Select sal into vsal
    -> From emp
    -> Where empno=peno
    -> Set psal=vsal+psal;
    -> End $$
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'Declare vsal int
Select sal into vsal
From emp
Where empno=peno
Set p' at line 2
mysql> Delimiter $$
mysql> Create procedure changesal(in peno int,inout psal decimal(9,2))
    -> begin
    -> Declare vsal decimal(9,2);
    -> Select sal into vsal
    -> From emp
    -> Where empno=peno
    -> Set psal=vsal+psal;
    -> select psal
    -> end$$
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'Set psal=vsal+psal;
select psal
end' at line 7
mysql> Create procedure changesal(in peno int,inout psal decimal(9,2))
    -> begin
    -> Declare vsal decimal(9,2);
    -> Select sal into vsal
    -> From emp
    -> Where empno=peno
    -> Set psal=vsal+psal;
    -> select psal;
    -> end$$
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'Set psal=vsal+psal;
select psal;
end' at line 7
mysql> Create procedure changesal(in peno int,inout psal decimal(9,2))
    -> ;
    -> $$
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1
mysql> delimiter $$
mysql> create procedure changesal(in peno int,inout psal decimal(9,2))
    -> begin
    -> declare vsal decimal(9,2);
    -> Select sal into vsal
    -> From emp
    -> Where empno=peno;
    -> set psal=vsal+psal;
    -> select psal;
    -> end $$
Query OK, 0 rows affected (0.01 sec)

mysql> delimiter ;
mysql> set s=200;
ERROR 1193 (HY000): Unknown system variable 's'
mysql> s=200;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 's=200' at line 1
mysql> set @s=200;
Query OK, 0 rows affected (0.00 sec)

mysql> call changesal(7902,@s);
+---------+
| psal    |
+---------+
| 3200.00 |
+---------+
1 row in set (0.00 sec)

Query OK, 0 rows affected (0.00 sec)

mysql> select sal
    -> from emp
    -> where empno=7902;
+---------+
| sal     |
+---------+
| 3000.00 |
+---------+
1 row in set (0.00 sec)

mysql> delimiter $$
mysql> create procedure updatesal(in peno int,inout bonus decimal(9,2))
    -> begin
    ->
    ->    update emp
    ->    set sal=sal+bonus;
    ->    where empno=peno;
    ->
    ->    select sal into bonus
    ->    from emp
    ->    where empno=peno;
    ->
    ->   select peno, bonus;
    ->  end$$
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'where empno=peno;

   select sal into bonus
   from emp
   where empno=peno;
' at line 6
mysql> delimiter $$
mysql> create procedure updatesal(in peno int,inout bonus decimal(9,2))
    -> begin
    ->
    ->    update emp
    ->    set sal=sal+bonus
    ->    where empno=peno;
    ->
    ->    select sal into bonus
    ->    from emp
    ->    where empno=peno;
    ->
    ->   select peno, bonus;
    ->  end$$
Query OK, 0 rows affected (0.01 sec)

mysql> delimiter ;
mysql> set @b=2000;
Query OK, 0 rows affected (0.00 sec)

mysql> call updatesal(7902,@b);
+------+---------+
| peno | bonus   |
+------+---------+
| 7902 | 5000.00 |
+------+---------+
1 row in set (0.01 sec)

Query OK, 0 rows affected (0.01 sec)

mysql> select sal
    -> from emp
    -> where empno=7902;
+---------+
| sal     |
+---------+
| 5000.00 |
+---------+
1 row in set (0.00 sec)

mysql> show procedures;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'procedures' at line 1
mysql> show procedure code updatesal;
ERROR 1289 (HY000): The 'SHOW PROCEDURE|FUNCTION CODE' feature is disabled; you need MySQL built with '--with-debug' to have it working
mysql> show create procedure updatesal;
+-----------+--------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------+----------------------+--------------------+
| Procedure | sql_mode                                   | Create Procedure                                                                                                                                                                                                                                         | character_set_client | collation_connection | Database Collation |
+-----------+--------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------+----------------------+--------------------+
| updatesal | STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION | CREATE DEFINER=`root`@`localhost` PROCEDURE `updatesal`(in peno int,inout bonus decimal(9,2))
begin

   update emp
   set sal=sal+bonus
   where empno=peno;

   select sal into bonus
   from emp
   where empno=peno;

  select peno, bonus;
 end | cp850                | cp850_general_ci     | utf8mb4_0900_ai_ci |
+-----------+--------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------+----------------------+--------------------+
1 row in set (0.00 sec)

mysql> Select empno,ename,sal,comm,case when comm is null or comm=0 then 'need improvement'
    -> When comm<500 then 'ok'
    -> When comm>=500 and comm<1000 then 'good'
    -> Else 'excellent' end remark
    -> From emp;
+-------+--------+---------+---------+------------------+
| empno | ename  | sal     | comm    | remark           |
+-------+--------+---------+---------+------------------+
|  7369 | SMITH  |  800.00 |    NULL | need improvement |
|  7499 | ALLEN  | 1600.00 |  300.00 | ok               |
|  7521 | WARD   | 1250.00 |  500.00 | good             |
|  7566 | JONES  | 2975.00 |    NULL | need improvement |
|  7654 | MARTIN | 1250.00 | 1400.00 | excellent        |
|  7698 | BLAKE  | 2850.00 |    NULL | need improvement |
|  7782 | CLARK  | 2450.00 |    NULL | need improvement |
|  7788 | SCOTT  | 3000.00 |    NULL | need improvement |
|  7839 | KING   | 5000.00 |    NULL | need improvement |
|  7844 | TURNER | 1500.00 |    0.00 | need improvement |
|  7876 | ADAMS  | 1100.00 |    NULL | need improvement |
|  7900 | JAMES  |  950.00 |    NULL | need improvement |
|  7902 | FORD   | 5000.00 |    NULL | need improvement |
|  7934 | MILLER | 1300.00 |    NULL | need improvement |
|   100 | xxx    | 2345.00 |    NULL | need improvement |
|   101 | yyy    | 3345.00 |    NULL | need improvement |
|   102 | zzz    | 3745.00 |    NULL | need improvement |
|  1000 | Manasi | 3456.00 |  567.00 | good             |
|  1001 | Kavita | 3456.00 |  567.00 | good             |
+-------+--------+---------+---------+------------------+
19 rows in set (0.00 sec)

mysql> delimiter $$
mysql> create procedure assign_remark(in peno int)
    -> begin
    ->   declare remark varchar(20) default '';
    ->   declare veno int;
    ->   declare venm varchar(20);
    ->   declare vcomm decimal(9,2);
    ->   select empno,ename,comm into veno,venm,vcomm
    ->   from emp
    ->   where empno=peno;
    ->
    ->   if vcomm is null or vcomm=0 then
    ->       set remark='need improvement';
    ->   elseif vcomm > 0 and vcomm < 500 then
    ->       set remark='ok';
    ->   elseif vcomm>=500 and vcomm<1000 then
    ->       set remark='good';
    ->   else
    ->       set remark='excellent';
    ->   end if;
    ->   select veno,venm,vcomm,remark;
    ->
    -> end$$
Query OK, 0 rows affected (0.01 sec)

mysql> delimiter ;
mysql> call assign_remark(7902);
+------+------+-------+------------------+
| veno | venm | vcomm | remark           |
+------+------+-------+------------------+
| 7902 | FORD |  NULL | need improvement |
+------+------+-------+------------------+
1 row in set (0.00 sec)

Query OK, 0 rows affected (0.01 sec)

mysql> call assign_remark(7968);
+------+------+-------+------------------+
| veno | venm | vcomm | remark           |
+------+------+-------+------------------+
| NULL | NULL |  NULL | need improvement |
+------+------+-------+------------------+
1 row in set (0.00 sec)

Query OK, 0 rows affected (0.00 sec)

mysql> select * from emp;
+-------+--------+-----------+------+------------+---------+---------+--------+
| EMPNO | ENAME  | JOB       | MGR  | HIREDATE   | SAL     | COMM    | DEPTNO |
+-------+--------+-----------+------+------------+---------+---------+--------+
|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 |  800.00 |    NULL |     20 |
|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 | 1600.00 |  300.00 |     30 |
|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 | 1250.00 |  500.00 |     30 |
|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 | 2975.00 |    NULL |     20 |
|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 | 1250.00 | 1400.00 |     30 |
|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 | 2850.00 |    NULL |     30 |
|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 | 2450.00 |    NULL |     10 |
|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 | 3000.00 |    NULL |     20 |
|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 | 5000.00 |    NULL |     10 |
|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 | 1500.00 |    0.00 |     30 |
|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 | 1100.00 |    NULL |     20 |
|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 |  950.00 |    NULL |     30 |
|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 | 5000.00 |    NULL |     20 |
|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 | 1300.00 |    NULL |     10 |
|   100 | xxx    | SALESMAN  | NULL | NULL       | 2345.00 |    NULL |     10 |
|   101 | yyy    | SALESMAN  | NULL | NULL       | 3345.00 |    NULL |     10 |
|   102 | zzz    | SALESMAN  | NULL | NULL       | 3745.00 |    NULL |     20 |
|  1000 | Manasi | Designer  | 7902 | 2022-10-08 | 3456.00 |  567.00 |     10 |
|  1001 | Kavita | SAP prog  | 7902 | 2022-10-01 | 3456.00 |  567.00 |     20 |
+-------+--------+-----------+------+------------+---------+---------+--------+
19 rows in set (0.00 sec)

mysql> call assign_remark(7698);
+------+-------+-------+------------------+
| veno | venm  | vcomm | remark           |
+------+-------+-------+------------------+
| 7698 | BLAKE |  NULL | need improvement |
+------+-------+-------+------------------+
1 row in set (0.00 sec)

Query OK, 0 rows affected (0.00 sec)

mysql> call assign_remark(1001);
+------+--------+--------+--------+
| veno | venm   | vcomm  | remark |
+------+--------+--------+--------+
| 1001 | Kavita | 567.00 | good   |
+------+--------+--------+--------+
1 row in set (0.00 sec)

Query OK, 0 rows affected (0.00 sec)

mysql> call assign_remark(7654);
+------+--------+---------+-----------+
| veno | venm   | vcomm   | remark    |
+------+--------+---------+-----------+
| 7654 | MARTIN | 1400.00 | excellent |
+------+--------+---------+-----------+
1 row in set (0.00 sec)

Query OK, 0 rows affected (0.00 sec)

mysql> delimiter $$
mysql> Create procedure updatesalbyEno(in peno int)
    -> Begin
    -> declare vnm varchar(20);
    -> declare vsal decimal(9,2);
    -> declare vdno int ;
    -> declare vjob varchar(20);
    ->
    -> select ename,sal,job,deptno into vnm,vsal,vjob,vdno
    -> from emp
    -> where empno=peno;
    ->
    -> if vjob=='MANAGER' then
    ->   set vsal=vsal+vsal*0.10;
    -> elseif vjob=='ANALYST' then
    -> set vsal=vsal+vsal*0.20;
    -> elseif vjob=='CLERK' then
    -> set vsal=vsal+vsal*0.30;
    -> end if;
    -> update emp
    -> set sal=vsal
    -> where empno=peno;
    -> select vnm,vsal,vjob,vdno,peno;
    -> end $$
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '=='MANAGER' then
  set vsal=vsal+vsal*0.10;
elseif vjob=='ANALYST' then
set vsal' at line 12
mysql> Create procedure updatesalbyEno(in peno int)
    -> Begin
    -> declare vnm varchar(20);
    -> declare vsal decimal(9,2);
    -> declare vdno int ;
    -> declare vjob varchar(20);
    ->
    -> select ename,sal,job,deptno into vnm,vsal,vjob,vdno
    -> from emp
    -> where empno=peno;
    ->
    -> if vjob='MANAGER' then
    ->   set vsal=vsal+vsal*0.10;
    -> elseif vjob='ANALYST' then
    -> set vsal=vsal+vsal*0.20;
    -> elseif vjob='CLERK' then
    -> set vsal=vsal+vsal*0.30;
    -> end if;
    -> update emp
    -> set sal=vsal
    -> where empno=peno;
    -> select vnm,vsal,vjob,vdno,peno;
    -> end $$
Query OK, 0 rows affected (0.01 sec)

mysql>
mysql> call updatesalbyEno(7902);
    -> $$
+------+---------+---------+------+------+
| vnm  | vsal    | vjob    | vdno | peno |
+------+---------+---------+------+------+
| FORD | 6000.00 | ANALYST |   20 | 7902 |
+------+---------+---------+------+------+
1 row in set (0.01 sec)

Query OK, 0 rows affected (0.01 sec)

mysql> select * from emp;
    -> $$
+-------+--------+-----------+------+------------+---------+---------+--------+
| EMPNO | ENAME  | JOB       | MGR  | HIREDATE   | SAL     | COMM    | DEPTNO |
+-------+--------+-----------+------+------------+---------+---------+--------+
|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 |  800.00 |    NULL |     20 |
|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 | 1600.00 |  300.00 |     30 |
|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 | 1250.00 |  500.00 |     30 |
|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 | 2975.00 |    NULL |     20 |
|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 | 1250.00 | 1400.00 |     30 |
|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 | 2850.00 |    NULL |     30 |
|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 | 2450.00 |    NULL |     10 |
|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 | 3000.00 |    NULL |     20 |
|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 | 5000.00 |    NULL |     10 |
|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 | 1500.00 |    0.00 |     30 |
|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 | 1100.00 |    NULL |     20 |
|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 |  950.00 |    NULL |     30 |
|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 | 6000.00 |    NULL |     20 |
|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 | 1300.00 |    NULL |     10 |
|   100 | xxx    | SALESMAN  | NULL | NULL       | 2345.00 |    NULL |     10 |
|   101 | yyy    | SALESMAN  | NULL | NULL       | 3345.00 |    NULL |     10 |
|   102 | zzz    | SALESMAN  | NULL | NULL       | 3745.00 |    NULL |     20 |
|  1000 | Manasi | Designer  | 7902 | 2022-10-08 | 3456.00 |  567.00 |     10 |
|  1001 | Kavita | SAP prog  | 7902 | 2022-10-01 | 3456.00 |  567.00 |     20 |
+-------+--------+-----------+------+------------+---------+---------+--------+
19 rows in set (0.00 sec)

mysql> call updatesalbyEno(7934);
    -> $$
+--------+---------+-------+------+------+
| vnm    | vsal    | vjob  | vdno | peno |
+--------+---------+-------+------+------+
| MILLER | 1690.00 | CLERK |   10 | 7934 |
+--------+---------+-------+------+------+
1 row in set (0.00 sec)

Query OK, 0 rows affected (0.01 sec)

mysql> call updatesalbyEno(7698)$$
+-------+---------+---------+------+------+
| vnm   | vsal    | vjob    | vdno | peno |
+-------+---------+---------+------+------+
| BLAKE | 3135.00 | MANAGER |   30 | 7698 |
+-------+---------+---------+------+------+
1 row in set (0.00 sec)

Query OK, 0 rows affected (0.01 sec)

mysql> select * from emp;
    -> $$
+-------+--------+-----------+------+------------+---------+---------+--------+
| EMPNO | ENAME  | JOB       | MGR  | HIREDATE   | SAL     | COMM    | DEPTNO |
+-------+--------+-----------+------+------------+---------+---------+--------+
|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 |  800.00 |    NULL |     20 |
|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 | 1600.00 |  300.00 |     30 |
|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 | 1250.00 |  500.00 |     30 |
|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 | 2975.00 |    NULL |     20 |
|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 | 1250.00 | 1400.00 |     30 |
|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 | 3135.00 |    NULL |     30 |
|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 | 2450.00 |    NULL |     10 |
|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 | 3000.00 |    NULL |     20 |
|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 | 5000.00 |    NULL |     10 |
|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 | 1500.00 |    0.00 |     30 |
|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 | 1100.00 |    NULL |     20 |
|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 |  950.00 |    NULL |     30 |
|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 | 6000.00 |    NULL |     20 |
|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 | 1690.00 |    NULL |     10 |
|   100 | xxx    | SALESMAN  | NULL | NULL       | 2345.00 |    NULL |     10 |
|   101 | yyy    | SALESMAN  | NULL | NULL       | 3345.00 |    NULL |     10 |
|   102 | zzz    | SALESMAN  | NULL | NULL       | 3745.00 |    NULL |     20 |
|  1000 | Manasi | Designer  | 7902 | 2022-10-08 | 3456.00 |  567.00 |     10 |
|  1001 | Kavita | SAP prog  | 7902 | 2022-10-01 | 3456.00 |  567.00 |     20 |
+-------+--------+-----------+------+------------+---------+---------+--------+
19 rows in set (0.00 sec)

mysql> delimiter $$;
mysql> create procedure display_num()
    -> begin
    ->    declare x int default 1;
    ->    declare str varchar(20) default '';
    ->    while x<=5 do
    ->      set str=concat(str,x,',')
    ->      set x=x+1
    ->    end while;
    ->    select str;
    ->
    -> end$$
    -> delimiter ;
    -> $$
    -> ;
    -> ^C
mysql> delimiter $$;
mysql> delimiter $$
mysql> create procedure display_num()
    -> begin
    ->    declare x int default 1;
    ->    declare str varchar(20) default '';
    ->    while x<=5 do
    ->      set str=concat(str,x,',')
    ->      set x=x+1
    ->    end while;
    ->    select str;
    ->
    -> end$$
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'set x=x+1
   end while;
   select str;

end' at line 7
mysql> delimiter ;
mysql> delimiter $$
mysql> create procedure display_num()
    -> begin
    ->    declare x int default 1;
    ->    declare str varchar(20) default '';
    ->    while x<=5 do
    ->      set str=concat(str,x,',');
    ->      set x=x+1;
    ->    end while;
    ->    select str;
    ->
    -> end$$
Query OK, 0 rows affected (0.01 sec)

mysql> delimiter ;
mysql> call display_num();
+------------+
| str        |
+------------+
| 1,2,3,4,5, |
+------------+
1 row in set (0.00 sec)

Query OK, 0 rows affected (0.00 sec)

mysql> delimiter $$
mysql> create procedure display_num_repeat()
    -> begin
    ->    declare x int default 1;
    ->    declare str varchar(20) default '';
    ->    repeat
    ->      set str=concat(str,x,',');
    ->      set x=x+1;
    ->    until x>5
    ->    end repeat;
    ->    str=substr(str,1,length(str)-1);
    ->    select str;
    ->
    -> end$$
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '=substr(str,1,length(str)-1);
   select str;

end' at line 10
mysql> delimiter ;
mysql> delimiter $$
mysql> create procedure display_num_repeat()
    -> begin
    ->    declare x int default 1;
    ->    declare str varchar(20) default '';
    ->    repeat
    ->      set str=concat(str,x,',');
    ->      set x=x+1;
    ->    until x>5
    ->    end repeat;
    ->    set str=substr(str,1,length(str)-1);
    ->    select str;
    ->
    -> end$$
Query OK, 0 rows affected (0.01 sec)

mysql> delimiter ;
mysql> call display_num_repeat();
+-----------+
| str       |
+-----------+
| 1,2,3,4,5 |
+-----------+
1 row in set (0.00 sec)

Query OK, 0 rows affected (0.00 sec)

mysql> delimiter $$
mysql> create procedure display_num_loop()
    -> begin
    ->    declare x int default 1;
    ->    declare str varchar(20) default '';
    ->    loop1:loop
    ->      set str=concat(str,x,',');
    ->      set x=x+1;
    ->    if x>5 then
    ->       leave loop1;
    ->    end if;
    ->    end loop;
    ->    set str=substr(str,1,length(str)-1);
    ->    select str;
    ->
    -> end$$
Query OK, 0 rows affected (0.01 sec)

mysql> delimiter ;
mysql> call display_num_loop();
+-----------+
| str       |
+-----------+
| 1,2,3,4,5 |
+-----------+
1 row in set (0.00 sec)

Query OK, 0 rows affected (0.00 sec)

mysql> delimiter $$
mysql> Create procedure divisible_by_3(in start int, in stop int)
    -> begin
    -> declare str varchar(20) default ''; 90   10 ,
    -> declare x int default 0;
    -> set x=start;
    -> while x <= stop do
    ->    if x%3=0 then
    ->       set str=concat(str,x,',');
    ->    end if;
    ->    set x=x+1;
    -> end while;
    -> select str;
    -> end$$
Query OK, 0 rows affected (0.01 sec)

mysql> delimiter ;
mysql> call divisible_by_3()
    -> ;
ERROR 1318 (42000): Incorrect number of arguments for PROCEDURE test.divisible_by_3; expected 2, got 0
mysql> call divisible_by_3(3,17);
+--------------+
| str          |
+--------------+
| 3,6,9,12,15, |
+--------------+
1 row in set (0.00 sec)

Query OK, 0 rows affected (0.00 sec)

mysql>